import{g as d,m as z,q as N,s as C,v as j,o as g,k as y,u as F,l as L,x as B,_ as O,c as W,y as V,w as M,z as U,a as i,t as A,A as K,T as q,j as E,p as R,e as P,B as G,r as H,b as $,C as J,D as Y}from"./entry.037b72d5.js";const Q={__name:"TelInput",props:{context:Object},emits:["valid"],setup(t,{emit:n}){const s=t,l=a=>{a.startsWith("89")&&(f.value.choose({iso2:"ru"}),o.value=`+7${a.substring(1)}`),a.startsWith("79")&&(f.value.choose({iso2:"ru"}),o.value=`+${a}`)},m=a=>{s.context.node.input(a.target.value),l(a.target.value),a.target.value.startsWith("+")||s.context.node.input(`+${c.value} ${a.target.value}`)},f=d(null),o=d(s.context._value),c=d(""),b=String(s.context.id),p=d(void 0),k=a=>{p.value=a.valid};z(p,()=>{const a=s.context.node;!p.value&&o.value?(a.store.set(N({key:"telValidation",type:"validation",blocking:"true",value:h.value})),a.store.set(N({key:"submitted",value:!0,visible:!1}))):(a.store.filter(r=>r.key==="telValidation"),a.store.filter(r=>r.key==="submitted"))}),z(o,()=>{const a=s.context.node;o.value.length===0?(a.store.set(N({key:"submitted",value:!0,visible:!1})),a.store.filter(r=>r.key==="submitted")):o.value.length===1&&(p.value=!1,a.store.set(N({key:"telValidation",type:"validation",blocking:"true",value:h.value})))});const _=L().$locale,w=a=>{c.value=a.dialCode},h=C(()=>{switch(_){case"aa":return"Lambar teleefoonu maqan baayin";case"ab":return"Адинрин телефон номер";case"af":return"Ongeldige telefoonnommer";case"am":return"የቴሌፎን ቁጥር የለውም";case"ar":return"رقم هاتف غير صالح";case"as":return"অবৈধ টেলিফোন নম্বর";case"ay":return"Número de telfono malsano";case"az":return"Yanlış telefon nömrəsi";case"ba":return"Телефон номеры дөрөҫ";case"be":return"Няправільны нумар тэлефона";case"bg":return"Невалиден телефонен номер";case"bh":return"अवैध टेलीफोन नंबर";case"bi":return"Namba blong telefala i no korekt";case"bn":return"অবৈধ টেলিফোন নম্বর";case"bo":return"འཕྲིན་ལམ་ཨ་ཡིག་མི་མཐུན་པར་བཀོད་པའི་ཨང་།";case"br":return"Niverus pennadoù fonelezh";case"bs":return"Nevažeći telefonski broj";case"ca":return"Número de telèfon invàlid";case"ce":return"Некъашхьэн телефон дехьа шуман";case"ch":return"Numero ni telefono ti diok";case"co":return"Numero di telefunu invalidu";case"cr":return"ᑲᒡᓯᑲᓃᓂᐦᑳᐃᑲᓃᓂᐦᑳᐃᑕᐱᐦᑕᐎᓐᓄᑦ";case"cs":return"Neplatné telefonní číslo";case"cy":return"Rhif ffôn annilys";case"da":return"Ugyldigt telefonnummer";case"de":return"Ungültige Telefonnummer";case"dv":return"ބަންދިޔަ ނުކުރުމަށް ނުވަތަ ދެއްކުރެވޭނެ";case"dz":return"ཡོངས་སུ་བརྟེན་ཚན་གྱི་ཨང་།";case"ee":return"Ŋɔɔmbɔ nɔpɛpɛɛ";case"el":return"Μη έγκυρος αριθμός τηλεφώνου";case"en":return"Invalid telephone number";case"eo":return"Nevalida telefonnumero";case"es":return"Número de teléfono inválido";case"et":return"Vigane telefoninumber";case"eu":return"Telefono zenbakia baliogabea";case"fa":return"شماره تلفن نامعتبر است";case"ff":return"Noomoro telefoŋ maa laawol";case"fi":return"Virheellinen puhelinnumero";case"fj":return"Na nonai volatabu e sega ni dodonu";case"fo":return"Ógildt telefonnummar";case"fr":return"Numéro de téléphone invalide";case"fy":return"Ûngeldige telefoannûmer";case"ga":return"Uimhir theileafóin neamhbhailí";case"gd":return"Àireamh fòn neo-chrìochnaichte";case"gl":return"Número de teléfono non válido";case"gn":return"Nde reko mbo'ehao oî tetãme";case"gu":return"અમાન્ય ટેલિફોન નંબર";case"ha":return"Lambar wayar ta yaya ba daidai ba";case"he":return"מספר טלפון לא תקין";case"hi":return"अमान्य टेलीफोन नंबर";case"hr":return"Neispravan telefonski broj";case"ht":return"Nimewo telefòn ki pa valab";case"hu":return"Érvénytelen telefonszám";case"hy":return"Անվավեր հեռախոսահամար";case"ia":return"Numero de telephono invalide";case"id":return"Nomor telepon tidak valid";case"ig":return"Nọmba telephone enyemaka";case"ii":return"ꊌꏚꉙꃅꑘ ꂆꉓꇁꈎ";case"is":return"Ógildur símanúmer";case"it":return"Numero di telefono non valido";case"iu":return"ᓇᑕ ᑲᓇᑕᒥ ᓂᐲᓚᐅᑦᑕᒐ";case"ja":return"無効な電話番号です";case"jv":return"Nomor telepon ora sah";case"ka":return"არასწორი ტელეფონის ნომერი";case"kg":return"Namba ya telefone mosali";case"ki":return"Namba ya rununu iria iturite";case"kj":return"Ongwala omunandi wOmutumia";case"kk":return"Телефон нөмірі дұрыс емес";case"kl":return"Telefonnummeriit pillugu";case"km":return"លេខទូរសព្ទមិនត្រឹមត្រូវ";case"kn":return"ಅಮಾನ್ಯ ದೂರವಾಣಿ ಸಂಖ್ಯೆ";case"ko":return"유효하지 않은 전화번호입니다";case"kr":return"Oju-iwọn ti kii ṣe awọn ero idẹ";case"ks":return"ناجائز فون نمبر";case"ku":return"Nrê telefona ne xuyirî";case"kv":return"Телефон кирӧнӧн номер";case"kw":return"Niver dell fôn nyns gwyryd";case"ky":return"Телефон номери жарамсыз";case"la":return"Numerus telephonici invalidus";case"lb":return"Ongültegt Telefonnummer";case"lg":return"Namba yateleefoni ey'obulamu teyakola";case"li":return"Óngèldig telefonnummer";case"ln":return"Noméro ya telefoni ekosala";case"lo":return"ເບີໂທລະສັບບໍ່ຖືກຕ້ອງ";case"lt":return"Neteisingas telefono numeris";case"lu":return"Namba ya telefone ya mpési";case"lv":return"Nepareizs tālruņa numurs";case"mg":return"Sary telofoana tsy manan-kery";case"mh":return"Kajin M̧ajeļ kein kōn kajjoņ";case"mi":return"He tōnga waea kore";case"mk":return"Невалиден телефонски број";case"ml":return"അസാധുവായ ടെലിഫോൺ നമ്പർ";case"mr":return"अवैध दूरध्वनी क्रमांक";case"ms":return"Nombor telefon tidak sah";case"mt":return"Numru tat-telefown invalidu";case"my":return"မမှန်ကန်သောတယ်နှင့်ဆိုင်းငံ့ဖြစ်သည်";case"na":return"Teletefon nomo dihong";case"nb":return"Ugyldig telefonnummer";case"nd":return"Inombolo yefoni ayivunyelwe";case"ne":return"अमान्य टेलिफोन नम्बर";case"ng":return"Nọmba telefo adịghị";case"nl":return"Ongeldig telefoonnummer";case"nn":return"Ugyldig telefonnummer";case"no":return"Ugyldig telefonnummer";case"nr":return"Inombolo yefoni ayivunyelwe";case"nso":return"Nomboro ya telepona e sa lebale";case"ny":return"Nambala ya telefoni sili bwino";case"oc":return"Numèro de telefon invalid";case"om":return"Nambarraa teleefoonii qophaa'ee";case"or":return"ଅବୈଧ ଟେଲିଫୋନ ନମ୍ବର";case"pa":return"ਗਲਤ ਫੋਨ ਨਂਬਰ";case"pl":return"Nieprawidłowy numer telefonu";case"ps":return"نا معتبر ټیلیفون شمیره";case"pt":return"Número de telefone inválido";case"qu":return"Uyarichkanapaq tirisqa telefono";case"rm":return"Numar da telefon invalid";case"rn":return"Nimero ya telefoni si iyo";case"ro":return"Număr de telefon invalid";case"ru":return"Неверный номер телефона";case"rw":return"Numero ya telefoni ntibikwiye";case"sa":return"अवैधः दूरवाणीसंख्या";case"sc":return"Nùmeru de telefunu no bàlidu";case"sd":return"نا معتبر ٽيليفون نمبر";case"se":return"Rievdadási telefoonnummar";case"sg":return"N° tél. mɛlɛi";case"si":return"අවලංගු දුරකථන අංකයක්";case"sk":return"Neplatné telefónne číslo";case"sl":return"Neveljavna telefonska številka";case"sm":return"Le telefoni leaga e le'i fa'alē";case"sn":return"Namba ye foni haina kuwedzera";case"so":return"Lambar taleefanka aan sax ahayn";case"sq":return"Numër telefoni i pavlefshëm";case"sr":return"Неважећи број телефона";case"ss":return"Nombolo wendlu ayisivumelwanga";case"st":return"Nomboro ea telefomo ha e sa tloaelehang";case"su":return"Nomer tilpon sah teuacan";case"sv":return"Ogiltigt telefonnummer";case"sw":return"Nambari ya simu batili";case"ta":return"தவறான தொலைபேசி எண்";case"te":return"చెల్లని టెలిఫోన్ నమ్మరికప్పుడు";case"tg":return"Рақами телефони нодуруст";case"th":return"หมายเลขโทรศัพท์ไม่ถูกต้อง";case"ti":return"ማህደር ስልክ ቁጥር የለውም";case"tk":return"Telefon belgisi düzgün däl";case"tl":return"Hindi wastong numero ng telepono";case"tn":return"Nomboro ye telefoni ayivunyelwe";case"to":return"Nomb'a foni tatau";case"tr":return"Geçersiz telefon numarası";case"ts":return"Nomboro ya telefoni ayitsale";case"tt":return"Телефон нөмрәсе дөрес түгел";case"tw":return"Mfone d nyinii nkwantabisa";case"ty":return"Numéro de téléphone invalide";case"ug":return"تېلېفون نۇمۇرى خاتالىق";case"uk":return"Невірний номер телефону";case"ur":return"غلط ٹیلیفون نمبر";case"uz":return"Noto'g'ri telefon raqami";case"ve":return"Nomboro ya telefoni ayivunyelwe";case"vi":return"Số điện thoại không hợp lệ";case"vo":return"Nulik telefon numer";case"wa":return"Nouméro d' telefena nén vâlid";case"wo":return"Noolu telefoonu mënula";case"xh":return"Inombolo yefoni ayivunyelwe";case"yi":return"אונגילטיקער טעלעפאן נומער";case"yo":return"Nọmbà fóònì tó ń búlọ̀ọ́";case"za":return"无效电话号码";case"zh":return"无效电话号码";case"zu":return"Inombolo yefoni ayivunyelwe";default:return"Invalid telephone number"}});return(a,r)=>{const e=j("vue-tel-input");return g(),y(e,{modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=u=>o.value=u),autoFormat:!1,mode:"international",dropdownOptions:{showDialCodeInList:!0,showDialCodeInSelection:!0,showFlags:!0,showSearchBox:!0},inputOptions:{name:"phone",type:"tel",id:F(b),placeholder:s.context.placeholder},autoDefaultCountry:!0,onInput:m,onValidate:k,onCountryChanged:w,ref_key:"telInput",ref:f},null,8,["modelValue","inputOptions"])}}},X=Q,Z={__name:"Input",props:{name:{type:String,required:!0},placeholder:{type:String,default:null},label:{type:String,default:null},labelClass:{type:String,default:null},inputClass:{type:String,default:null},value:{type:[String,Number]},id:{type:String,default:null}},setup(t){const n=t,s=B(X,{props:["placeholder","validationText"]}),l=C(()=>{switch(n.name){case"first_name":return"text";case"last_name":return"text";case"phone":return s;case"email":return"email";default:return"hidden"}}),m=C(()=>{switch(l.value){case"text":return"required";case s:return"required";case"email":return"required|email";default:return null}});return(f,o)=>{const c=j("FormKit");return g(),y(c,{type:l.value,label:n.label?n.label:!1,placeholder:t.placeholder?t.placeholder:!1,validation:m.value,name:n.name,value:t.value?t.value:"",id:n.id,"validation-label":n.name,classes:{label:n.labelClass,input:n.inputClass}},null,8,["type","label","placeholder","validation","name","value","id","validation-label","classes"])}}},ve=Z;const ee={},ae={class:"loader loader_active"};function te(t,n){return g(),W("span",ae)}const ne=O(ee,[["render",te],["__scopeId","data-v-7ffd0a33"]]);const re={class:"error-message"},se={class:"error-message__text"},oe={__name:"ErrorMessage",props:{showErrorMsg:{type:Boolean,default:!1},message:{type:String,default:"Error"}},emits:["close"],setup(t,{emit:n}){const s=t,l=d(s.showErrorMsg),m=()=>{n("close")};return V(()=>{l.value=s.showErrorMsg}),(f,o)=>(g(),y(q,{name:"fade"},{default:M(()=>[U(i("div",re,[i("div",se,[i("p",null,A(s.message),1),i("button",{type:"button",class:"error-message__close-btn",ref:"closeBtn",onClick:m},"✕",512)])],512),[[K,l.value]])]),_:1}))}},le=O(oe,[["__scopeId","data-v-10a2150a"]]);const ue=t=>(R("data-v-3e099261"),t=t(),P(),t),ie=ue(()=>i("div",{class:"loading-body"},[i("p",{class:"loading-text"}," Please stay on the page. We process your data. ")],-1)),ce={__name:"LoadingWindow",props:{showModal:{type:Boolean,default:!1}},emits:["close-modal"],setup(t,{emit:n}){const s=t,l=d(s.showModal),m=()=>{n("close-modal")};return V(()=>{l.value=s.showModal}),(f,o)=>l.value?(g(),y(q,{key:0,name:"modal"},{default:M(()=>[i("div",{class:"loading-mask"},[i("div",{class:"loading-wrapper"},[i("div",{class:"loading-container"},[i("div",{class:"loading-header"},[i("button",{type:"button",class:"loading-button",onClick:m},"✕")]),ie])])])]),_:1})):E("",!0)}},de=O(ce,[["__scopeId","data-v-3e099261"]]);const me={class:"main-form__submit-container"},fe={__name:"Form",props:{action:String,hiddenOptions:Object,wrapperClass:String,id:String,btnLabel:String,btnClassName:String},setup(t){const n=t,s=G(Symbol.for("FormKitConfig")),l=L(),m=l.$locale;s.locale=m;const f=l.$chatData,o=d(!1),c=d(!1),b=d(!1),p=d(""),k=r=>{switch(r){case"email":return`email_${n.id.split("_")[2]}`;case"first_name":return`name_${n.id.split("_")[2]}`;case"last_name":return`surname_${n.id.split("_")[2]}`;case"phone":return`phone_${n.id.split("_")[2]}`;default:return!1}},T=r=>{const e=r.data.errors;for(const u in e){const v=k(u);if(v){const x=e[u],S=J(v),I=N({blocking:!1,key:"rule_required",value:x.map(D=>D.replace(/\./g,"")).join(", "),type:"validation",visible:!0});S.store.set(I)}}},_=r=>{b.value=!0,p.value=r},w=async(r,e,u)=>{const v={URL:r,successText:e,pixelObj:u};l.$successObj.value=v,localStorage.setItem("successObj",JSON.stringify(v))},h=async()=>{await Y({path:"/success"})};async function a(r){c.value=!0,o.value=!0,await $fetch(n.action,{method:"POST",body:{...r,chatData:f.value},async onResponse({response:e}){if(c.value=!1,o.value=!1,e.status===200){w(e._data.redirect_url,e._data.result,e._data.pixel),h();return}_(e._data.message)}}).catch(e=>{if(c.value=!1,o.value=!1,e.status===422){T(e);const u=e.data.message||"The given data was invalid";_(u);return}if(e.status===429||e.status===409){w(e.data.redirect_url,e.data.ui_message,e.data.pixel),h();return}if(e.status>=500||e.status===401){const u=e.data.message||"An error has occurred";_(u);return}_("An error occurred while sending data")})}return(r,e)=>{const u=j("FormKit"),v=ne,x=le,S=de;return g(),y(u,{type:"form",id:t.id,actions:!1,"incomplete-message":!1,onSubmit:a,config:{classes:{form:"main-form",outer:"main-form__wrapper",input:"main-form__input",message:"error-span",label:"main-form__label",submit:"main-form__btn"}}},{default:M(()=>[H(r.$slots,"default"),i("div",me,[$(u,{type:"submit",label:t.btnLabel,classes:{input:t.btnClassName},disabled:o.value},null,8,["label","classes","disabled"]),o.value?(g(),y(v,{key:0})):E("",!0)]),$(x,{message:p.value,"show-error-msg":b.value,onClose:e[0]||(e[0]=I=>b.value=!1)},null,8,["message","show-error-msg"]),$(S,{showModal:c.value,onCloseModal:e[1]||(e[1]=I=>c.value=!1)},null,8,["showModal"])]),_:3},8,["id"])}}},ge=fe;export{ve as _,ge as a};
