import{_ as M,o as c,c as i,a as A,t as U,r as L,n as R,g as p,h as H,F as B,i as E,b as I,w as T,j as w,T as k,k as X,l as z}from"./entry.037b72d5.js";const D={key:0,class:"chat-message__content"},G={class:"chat-message__time"},q={class:"chat-message__text"},Y={__name:"ChatMessage",props:{message:{type:String},isUserMessage:{type:Boolean},isOptions:{type:Boolean},cssClass:{type:String}},setup(y){const n=y,g=()=>{const u=new Date;let o=u.getHours(),l=u.getMinutes();return o=o<10?"0"+o:o,l=l<10?"0"+l:l,o+":"+l};return(u,o)=>(c(),i("div",{class:R(["chat-message",{"chat-message_user":n.isUserMessage},{"chat-message_options":n.isOptions}])},[A("div",{class:R(["chat-message__box",n.cssClass])},[n.message?(c(),i("div",D,[A("p",G,U(g()),1),A("p",q,U(n.message),1)])):L(u.$slots,"default",{key:1},void 0,!0)],2)],2))}},j=M(Y,[["__scopeId","data-v-ac3ef353"]]);const Z={key:0,class:"chat-bot__message-box"},K={class:"chat-bot__options"},Q=["onClick"],W={key:0,class:"chat-bot__final"},$={__name:"ChatBot",props:{messages:{type:Array},options:{type:Array},typing:{type:Boolean,default:!0},typingSpeed:{type:Number,default:70},displayDelay:{type:Number,default:100},cssClassMessage:{type:String},hasScroll:{type:Boolean,default:!0}},setup(y){const n=y,g=z(),u=p(null),o=p(n.messages.map(e=>({...e,isUser:!1,status:"invisible",typing:n.typing}))),l=p(n.options);let h={};const V=100-n.typingSpeed,f=p(!1),r=p(1),d=p(l.value.find(e=>e.step===r.value)),C=p(!1),m=p([]),S=async e=>{N(e),F(e),f.value=!1,r.value++,d.value=l.value.find(s=>s.step===r.value),setTimeout(()=>{_(),b()},0)},O=(e,s)=>{let a=e.slice().reverse().findIndex(v=>v.step===s);return a!==-1&&(a=e.length-1-a),a},N=e=>{const s={text:e,isUser:!0,step:r.value,status:"invisible",typing:!1},t=O(o.value,r.value);o.value.splice(t+1,0,s),d.value=l.value.find(a=>a.step===r.value),_()},F=e=>{h[`question_${r.value}`]=e,g.$chatData.value=h},_=()=>{m.value=o.value.filter(e=>e.step<=r.value)},J=()=>{const e=o.value.some(t=>t.step>r.value),s=l.value.some(t=>t.step>r.value);return e||s},P=async e=>{if(e.typing){const s=e.text;e.text="",e.status="visible";for(const t of s)e.text+=t,await new Promise(a=>setTimeout(a,V))}else e.status="visible";await new Promise(s=>setTimeout(s,n.displayDelay)),n.hasScroll&&x(".chat-bot__message-box:last-child")},b=()=>{const e=m.value.filter(t=>t.status==="invisible"),s=async t=>{t<e.length?(await P(e[t]),s(t+1)):(f.value=!0,J()||(C.value=!0,n.hasScroll&&setTimeout(()=>{x(".chat-bot__final")},100)))};s(0)},x=e=>{if(u.value){const s=u.value.querySelector(e);s&&s.scrollIntoView({behavior:"smooth"})}};return H(()=>{_(),b()}),(e,s)=>{const t=j;return c(),i("div",{class:"chat-bot",ref_key:"chatContainer",ref:u},[(c(!0),i(B,null,E(m.value,(a,v)=>(c(),i("div",{class:"chat-bot__message-box",key:v},[I(k,{name:"fade"},{default:T(()=>[a.status=="visible"?(c(),X(t,{key:0,message:a.text,isUserMessage:a.isUser,cssClass:"message"},null,8,["message","isUserMessage"])):w("",!0)]),_:2},1024)]))),128)),I(k,{name:"fade"},{default:T(()=>[f.value&&d.value&&d.value.answers?(c(),i("div",Z,[I(t,{isUserMessage:!0,isOptions:!0,cssClass:n.cssClassMessage},{default:T(()=>[A("ul",K,[(c(!0),i(B,null,E(d.value.answers,(a,v)=>(c(),i("li",{class:"chat-bot__option",key:v,onClick:ee=>S(a)},U(a),9,Q))),128))])]),_:1},8,["cssClass"])])):w("",!0)]),_:1}),C.value?(c(),i("div",W,[L(e.$slots,"final",{},void 0,!0)])):w("",!0)],512)}}},te=M($,[["__scopeId","data-v-e857e7f7"]]),ae="data:image/png;base64,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";export{ae as _,te as a};
